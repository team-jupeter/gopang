# GOPANG ì‹œìŠ¤í…œ êµ¬ì¶• ìš”ì•½ - Day 21
## í”„ë¡ íŠ¸ì—”ë“œ ë°°í¬ + OpenHash ë…¸ë“œ ì—°ë™

**ì‘ì„±ì¼:** 2026-01-24  
**ì‘ì„±ì:** Claude AI Assistant  
**ì„œë²„:** gopang-dev (13.222.8.230), recovery-temp (3.231.220.126)

---

## 1. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ê°œìš”
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ì‚¬ìš©ì ë¸Œë¼ìš°ì €                            â”‚
â”‚                  http://13.222.8.230/                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   gopang-dev (13.222.8.230)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Nginx     â”‚  â”‚  Frontend   â”‚  â”‚    Backend API      â”‚  â”‚
â”‚  â”‚   :80       â”‚â”€â”€â”‚  /gopang/   â”‚  â”‚    :3000 (ì˜ˆì •)     â”‚  â”‚
â”‚  â”‚             â”‚  â”‚  frontend/  â”‚  â”‚                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â”‚ HTTP API (5001-5004)
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                recovery-temp (3.231.220.126)                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              OpenHash 4-Layer Nodes                    â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ L4:5001 â”‚ â”‚ L3:5002 â”‚ â”‚ L2:5003 â”‚ â”‚ L1:5004     â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ í•œêµ­    â”‚â—„â”‚ ì œì£¼ë„  â”‚â—„â”‚ ì„œê·€í¬ì‹œâ”‚â—„â”‚ ì¤‘ë¬¸ë™      â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ n=13    â”‚ â”‚ n=10    â”‚ â”‚ n=7     â”‚ â”‚ n=4         â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. í”„ë¡ íŠ¸ì—”ë“œ íŒŒì¼ êµ¬ì¡°
```
/gopang/frontend/
â”œâ”€â”€ index.html          (9KB)   - SPA ë©”ì¸ í˜ì´ì§€
â”œâ”€â”€ favicon.ico                 - íŒŒë¹„ì½˜
â”œâ”€â”€ favicon.svg
â”œâ”€â”€ css/
â”‚   â””â”€â”€ styles.css      (10KB)  - Material Design ìŠ¤íƒ€ì¼
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ config.js       (1.3KB) - OpenHash ë…¸ë“œ ì„¤ì •
â”‚   â”œâ”€â”€ app.js          (20KB)  - ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ openhash.js (2.9KB) - OpenHash API í´ë¼ì´ì–¸íŠ¸
â””â”€â”€ assets/
    â””â”€â”€ icons/
```

---

## 3. í•µì‹¬ ì„¤ì • íŒŒì¼

### 3.1 Nginx ì„¤ì •
**íŒŒì¼:** `/etc/nginx/sites-available/gopang-frontend`
```nginx
server {
    listen 80;
    server_name _;

    root /gopang/frontend;
    index index.html;

    location / {
        try_files $uri $uri/ =404;
    }

    location /api {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }

    location /ai {
        proxy_pass http://localhost:8000;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
    }
}
```

### 3.2 OpenHash ë…¸ë“œ ì„¤ì •
**íŒŒì¼:** `/gopang/frontend/js/config.js`
```javascript
const CONFIG = {
    OPENHASH_NODES: {
        'KR': { url: 'http://3.231.220.126:5001', layer: 4, name: 'í•œêµ­' },
        'KR-JEJU': { url: 'http://3.231.220.126:5002', layer: 3, name: 'ì œì£¼ë„' },
        'KR-JEJU-SEOGWIPO': { url: 'http://3.231.220.126:5003', layer: 2, name: 'ì„œê·€í¬ì‹œ' },
        'KR-JEJU-SEOGWIPO-JUNGMUN': { url: 'http://3.231.220.126:5004', layer: 1, name: 'ì¤‘ë¬¸ë™' }
    },
    LPBFT_CONFIG: {
        1: { nodeCount: 4, faultTolerance: 1, quorum: 3 },
        2: { nodeCount: 7, faultTolerance: 2, quorum: 5 },
        3: { nodeCount: 10, faultTolerance: 3, quorum: 7 },
        4: { nodeCount: 13, faultTolerance: 4, quorum: 9 }
    },
    VAULT_KEYWORDS: {
        FINANCE: ['ì€í–‰', 'ê³„ì¢Œ', 'ì†¡ê¸ˆ', 'íˆ¬ì', 'ë³´í—˜', 'ì„¸ê¸ˆ'],
        MEDICAL: ['ë³‘ì›', 'ì•½êµ­', 'ì§„ë£Œ', 'ì²˜ë°©', 'ê±´ê°•'],
        EDUCATION: ['í•™êµ', 'ëŒ€í•™', 'í•™ì›', 'ë“±ë¡ê¸ˆ', 'ì¥í•™ê¸ˆ'],
        ADMIN: ['ì£¼ë¯¼ì„¼í„°', 'êµ¬ì²­', 'ë¯¼ì›', 'ì¦ëª…ì„œ', 'ì—¬ê¶Œ'],
        TRANSPORT: ['ë²„ìŠ¤', 'ì§€í•˜ì² ', 'KTX', 'ì£¼ìœ ', 'íƒì‹œ'],
        GENERAL: []
    },
    POLLING_INTERVAL: 10000
};
```

---

## 4. OpenHash ë…¸ë“œ ì‹œì‘ ëª…ë ¹ì–´

### recovery-temp ì„œë²„ì—ì„œ ì‹¤í–‰:
```bash
# SSH ì ‘ì†
ssh -i "C:\Users\ì£¼í”¼í„°\.ssh\gopang-dev-key.pem" ubuntu@3.231.220.126

# ë…¸ë“œ ì‹œì‘
cd /home/ubuntu/openhash-node

nohup node node-service.js --layer=4 --port=5001 --layerId=KR > /tmp/layer4.log 2>&1 &
nohup node node-service.js --layer=3 --port=5002 --layerId=KR-JEJU --parent=http://localhost:5001 > /tmp/layer3.log 2>&1 &
nohup node node-service.js --layer=2 --port=5003 --layerId=KR-JEJU-SEOGWIPO --parent=http://localhost:5002 > /tmp/layer2.log 2>&1 &
nohup node node-service.js --layer=1 --port=5004 --layerId=KR-JEJU-SEOGWIPO-JUNGMUN --parent=http://localhost:5003 > /tmp/layer1.log 2>&1 &

# í…ŒìŠ¤íŠ¸ ì”ì•¡ ì„¤ì •
curl -X POST http://localhost:5004/balance -H "Content-Type: application/json" -d '{"address":"user_A","amount":1000}'
curl -X POST http://localhost:5004/balance -H "Content-Type: application/json" -d '{"address":"user_B","amount":500}'

# ìƒíƒœ í™•ì¸
curl http://localhost:5001/health
curl http://localhost:5002/health
curl http://localhost:5003/health
curl http://localhost:5004/health
```

---

## 5. AWS ë³´ì•ˆ ê·¸ë£¹ ì„¤ì •

**Security Group:** `gopang-ec2-sg`

| Type | Port | Source | Description |
|------|------|--------|-------------|
| SSH | 22 | 0.0.0.0/0 | SSH ì ‘ì† |
| HTTP | 80 | 0.0.0.0/0 | ì›¹ ì„œë¹„ìŠ¤ |
| HTTPS | 443 | 0.0.0.0/0 | SSL (ì˜ˆì •) |
| Custom TCP | 5001-5004 | 0.0.0.0/0 | OpenHash Nodes |

---

## 6. êµ¬í˜„ëœ ê¸°ëŠ¥

### 6.1 UI êµ¬ì„± (Material Design, ë‹¨ìƒ‰ ì²­ìƒ‰)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â˜°  ğŸ”— GOPANG      â˜ï¸4/4  âš™ï¸ â”‚  â† ë¯¸ë‹ˆë©€ í—¤ë”
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚         ì±„íŒ… ì˜ì—­            â”‚  â† í’€ìŠ¤í¬ë¦° ì½˜í…ì¸ 
â”‚                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ’¬ì±„íŒ… â”‚ â†”ê±°ë˜ â”‚ ğŸ”’Vault â”‚ ğŸ“Š â”‚  â† í•˜ë‹¨ íƒ­ë°”
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 ì¢Œì¸¡ ìŠ¬ë¼ì´ë“œ ë©”ë‰´ (â˜° í´ë¦­)

**OpenHash ë…¸ë“œ ìƒíƒœ:**
- L4 í•œêµ­, L3 ì œì£¼ë„, L2 ì„œê·€í¬ì‹œ, L1 ì¤‘ë¬¸ë™ (ì‹¤ì‹œê°„ ìƒíƒœ)

**OpenHash ê¸°ëŠ¥:**
- í•´ì‹œ ì²´ì¸ ì¡°íšŒ
- LPBFT í•©ì˜ ì‹œë®¬ë ˆì´ì…˜
- ê³„ì¸µ ì„ íƒ í…ŒìŠ¤íŠ¸
- í•˜í–¥ì‹ ê²€ì¦

**ë””ì§€í„¸í™”í (íŠ¹í—ˆ ê¸°ë°˜):**
- í™”í ë°œí–‰ (ëª¨ë“ˆ 100)
- í™”í ì „ì†¡ (AI ê²€ì¦ ëª¨ë“ˆ 200)
- í™”í ì†Œê°
- ì¬ë¬´ì œí‘œ (ëª¨ë“ˆ 300)

**í†µí•© ê¸ˆìœµ (ëª¨ë“ˆ 900):**
- ììœ¨ ëŒ€ì¶œ (0.045ms) - ì—”ì§„ 910
- ììœ¨ ë³´í—˜ (0.028ms) - ì—”ì§„ 920
- í¬íŠ¸í´ë¦¬ì˜¤ ìµœì í™” (0.15ms) - ì—”ì§„ 930
- í¬ë¡œìŠ¤ ìµœì í™” (ì—°ê°„ 492ë§Œì› í˜œíƒ) - ì—”ì§„ 940

**Vault 6ì„œë:**
- ê¸ˆìœµ, ì˜ë£Œ, êµìœ¡, í–‰ì •, êµí†µ, ì¼ë°˜

---

## 7. OpenHash ë…¸ë“œ API

### 7.1 Health Check
```
GET http://3.231.220.126:500X/health

Response:
{
  "status": "healthy",
  "nodeId": "node-xxx",
  "layer": 4,
  "layerId": "KR",
  "chainLength": 0,
  "latestHash": "0000...",
  "lpbft": { "nodeCount": 13, "faultTolerance": 4, "quorum": 9 }
}
```

### 7.2 Transaction
```
POST http://3.231.220.126:5004/transaction
Content-Type: application/json

{ "sender": "user_A", "receiver": "user_B", "amount": 10 }
```

### 7.3 Balance
```
GET  http://3.231.220.126:5004/balance/user_A
POST http://3.231.220.126:5004/balance
     { "address": "user_A", "amount": 1000 }
```

### 7.4 Chain
```
GET http://3.231.220.126:5004/chain
```

### 7.5 Layer Selection
```
POST http://3.231.220.126:5004/select-layer
{ "documentHash": "abc123", "timestamp": 1737..., "importance": "NORMAL" }
```

### 7.6 LPBFT Trigger
```
POST http://3.231.220.126:5004/lpbft/trigger
{ "reason": "contamination" }
```

---

## 8. ë””ì§€í„¸í™”í íŠ¹í—ˆ ëª¨ë“ˆ ë§¤í•‘

| ëª¨ë“ˆ ë²ˆí˜¸ | ê¸°ëŠ¥ | êµ¬í˜„ ìƒíƒœ |
|----------|------|----------|
| 100 | í™”í í•µì‹¬ ëª¨ë“ˆ (ë°œí–‰/ì „ì†¡/ì†Œê°) | âœ… UI |
| 200 | AI ê²€ì¦ ëª¨ë“ˆ (BERT/CNN/LSTM) | âœ… UI ì‹œë®¬ë ˆì´ì…˜ |
| 300 | ì¬ë¬´ì œí‘œ ìƒì„± ëª¨ë“ˆ | âœ… UI |
| 400 | FPGA ê°€ì† ëª¨ë“ˆ | â³ ì‹œë®¬ë ˆì´ì…˜ |
| 500 | í¬ë¡œìŠ¤ì²´ì¸ ì—°ë™ ëª¨ë“ˆ | â³ ì˜ˆì • |
| 600 | ë™ì  ê°€ì¹˜ ì‚°ì • ëª¨ë“ˆ | â³ ì˜ˆì • |
| 700 | ê¸€ë¡œë²Œ ê·œì œ ì¤€ìˆ˜ ëª¨ë“ˆ | â³ ì˜ˆì • |
| 900 | í†µí•© ê¸ˆìœµ ì„œë¹„ìŠ¤ ëª¨ë“ˆ | âœ… UI |
| 910 | ììœ¨ ì€í–‰ ì„œë¹„ìŠ¤ ì—”ì§„ | âœ… UI |
| 920 | ììœ¨ ë³´í—˜ ì„œë¹„ìŠ¤ ì—”ì§„ | âœ… UI |
| 930 | ììœ¨ ì¦ê¶Œ ì„œë¹„ìŠ¤ ì—”ì§„ | âœ… UI |
| 940 | í¬ë¡œìŠ¤ ì„œë¹„ìŠ¤ ìµœì í™” ì—”ì§„ | âœ… UI |

---

## 9. ì¬í˜„ ëª…ë ¹ì–´ (ì „ì²´)

### 9.1 gopang-dev í”„ë¡ íŠ¸ì—”ë“œ ë°°í¬
```bash
# 1. ë””ë ‰í† ë¦¬ ìƒì„±
sudo mkdir -p /gopang/frontend/{css,js/api,assets/icons}
sudo chown -R ubuntu:ubuntu /gopang/frontend

# 2. index.html, styles.css, config.js, openhash.js, app.js ìƒì„±
# (ê° íŒŒì¼ ë‚´ìš©ì€ ë³¸ ë¬¸ì„œ ìƒë‹¨ ì°¸ì¡°)

# 3. Nginx ì„¤ì •
sudo tee /etc/nginx/sites-available/gopang-frontend << 'EOF'
server {
    listen 80;
    server_name _;
    root /gopang/frontend;
    index index.html;
    location / { try_files $uri $uri/ =404; }
    location /api { proxy_pass http://localhost:3000; }
}
EOF

sudo ln -sf /etc/nginx/sites-available/gopang-frontend /etc/nginx/sites-enabled/
sudo rm -f /etc/nginx/sites-enabled/default
sudo nginx -t && sudo systemctl restart nginx
```

### 9.2 recovery-temp OpenHash ë…¸ë“œ ì‹œì‘
```bash
ssh -i gopang-dev-key.pem ubuntu@3.231.220.126

cd /home/ubuntu/openhash-node
nohup node node-service.js --layer=4 --port=5001 --layerId=KR > /tmp/layer4.log 2>&1 &
nohup node node-service.js --layer=3 --port=5002 --layerId=KR-JEJU --parent=http://localhost:5001 > /tmp/layer3.log 2>&1 &
nohup node node-service.js --layer=2 --port=5003 --layerId=KR-JEJU-SEOGWIPO --parent=http://localhost:5002 > /tmp/layer2.log 2>&1 &
nohup node node-service.js --layer=1 --port=5004 --layerId=KR-JEJU-SEOGWIPO-JUNGMUN --parent=http://localhost:5003 > /tmp/layer1.log 2>&1 &
```

---

## 10. ì ‘ì† ì •ë³´

| í•­ëª© | URL/ì •ë³´ |
|------|----------|
| í”„ë¡ íŠ¸ì—”ë“œ | http://13.222.8.230/ |
| gopang-dev SSH | ssh -i gopang-dev-key.pem ubuntu@13.222.8.230 |
| recovery-temp SSH | ssh -i gopang-dev-key.pem ubuntu@3.231.220.126 |
| OpenHash L4 | http://3.231.220.126:5001/health |
| OpenHash L3 | http://3.231.220.126:5002/health |
| OpenHash L2 | http://3.231.220.126:5003/health |
| OpenHash L1 | http://3.231.220.126:5004/health |

---

## 11. ë‹¤ìŒ ë‹¨ê³„ (Phase 2)

1. **Backend API ì—°ë™** - /api í”„ë¡ì‹œ í™œì„±í™”
2. **AI Engine ì—°ë™** - DeepSeek R1 ì±„íŒ… ê¸°ëŠ¥
3. **ì‹¤ì œ ê±°ë˜ ì²˜ë¦¬** - OpenHash ë…¸ë“œì™€ ê±°ë˜ ì—°ë™
4. **ì¸ì¦ ì‹œìŠ¤í…œ** - JWT ê¸°ë°˜ ë¡œê·¸ì¸
5. **SSL ì¸ì¦ì„œ** - Let's Encrypt HTTPS

---

**ë¬¸ì„œ ë**
